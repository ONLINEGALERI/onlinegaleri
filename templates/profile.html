{% extends "base.html" %}
{% block content %}
<div style="max-width: 935px; margin: 0 auto; padding: 40px 20px;">
    <header style="display: flex; align-items: center; margin-bottom: 40px;">
        <img src="{{ server_profile.avatar }}" style="width: 150px; height: 150px; border-radius: 50%; border: 2px solid #d4af37; padding: 5px;">
        <div style="margin-left: 50px;">
            <h2 style="font-size: 28px; margin: 0;">{{ server_profile.username }} {% if server_profile.is_vip %}<i class="fa-solid fa-circle-check" style="color:#d4af37;"></i>{% endif %}</h2>
            <p style="margin-top: 10px; opacity: 0.8;">{{ server_profile.bio }}</p>
            {% if can_edit %}
            <form action="{{ url_for('upload') }}" method="POST" enctype="multipart/form-data">
                <input type="file" name="photo" onchange="this.form.submit()" style="display:none;" id="p-upload">
                <button type="button" onclick="document.getElementById('p-upload').click()" style="background:#d4af37; border:none; color:#000; padding:5px 15px; border-radius:5px; font-weight:bold; cursor:pointer;">Fotoğraf Yükle</button>
            </form>
            {% endif %}
        </div>
    </header>
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
        {% for photo in photos %}
        <div style="aspect-ratio: 1/1; overflow: hidden; background: #111;">
            <img src="{{ url_for('uploaded_file', filename=photo.filename) }}" style="width:100%; height:100%; object-fit:cover;">
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}