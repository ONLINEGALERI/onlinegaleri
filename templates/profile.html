{% extends "base.html" %}

{% block content %}
<style>
    .ig-container { width: 100%; max-width: 935px; margin: 0 auto; padding: 30px 20px; }
    .ig-header { display: flex; margin-bottom: 44px; align-items: center; border-bottom: 1px solid #efefef; padding-bottom: 40px; }
    .ig-avatar-area { flex: 1; display: flex; justify-content: center; }
    .profile-avatar { width: 150px !important; height: 150px !important; border-radius: 50% !important; object-fit: cover; border: 1px solid #dbdbdb; padding: 5px; }
    .ig-info-area { flex: 2; padding-left: 30px; }
    .ig-user-row { display: flex; align-items: center; gap: 20px; margin-bottom: 20px; }
    .profile-name { font-size: 28px; font-weight: 300; margin: 0; color: #262626; }
    .verify-badge { color: #bca05d; font-size: 18px; }
    .btn-ig-edit { background: #fff !important; border: 1px solid #dbdbdb !important; border-radius: 4px !important; color: #262626 !important; font-weight: 600 !important; font-size: 14px !important; padding: 5px 9px !important; cursor: pointer; }
    .ig-stats { display: flex; gap: 40px; list-style: none; padding: 0; margin-bottom: 20px; }
    .ig-stats li { font-size: 16px; color: #262626; }
    .ig-stats b { font-weight: 600; }
    .ig-bio { font-size: 16px; line-height: 1.5; color: #262626; }
    .ig-handle { font-weight: 600; display: block; margin-bottom: 2px; }
    .ig-photo-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 28px; margin-top: 20px; }
    .grid-item { aspect-ratio: 1/1; overflow: hidden; background: #fafafa; }
    .grid-item img { width: 100%; height: 100%; object-fit: cover; }
</style>

<div class="ig-container">
    <header class="ig-header">
        <div class="ig-avatar-area">
            <img class="profile-avatar" id="avatarPreview" src="https://picsum.photos/seed/bec/400/400" alt="avatar">
        </div>
        <div class="ig-info-area">
            <div class="ig-user-row">
                <h2 id="profileName" class="profile-name">bec</h2>
                <i class="fa-solid fa-circle-check verify-badge"></i>
                <button id="editProfileBtn" class="btn-ig-edit" data-bs-toggle="modal" data-bs-target="#editProfileModal">Profili Düzenle</button>
            </div>
            <ul class="ig-stats">
                <li><b id="postCount">842</b> gönderi</li>
                <li><b id="followerCount">1.2M</b> takipçi</li>
                <li><b id="followingCount">184</b> takip</li>
            </ul>
            <div class="ig-bio">
                <span id="profileHandle" class="ig-handle">bec</span>
                <div id="profileBio">VERZIAOFFICIAL</div>
            </div>
        </div>
    </header>
    <div class="ig-photo-grid" id="masonry"></div>
</div>

<div class="modal fade" id="editProfileModal" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content">
    <div class="modal-header"><h5 class="modal-title">Profili Düzenle</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body"><form id="editProfileForm">
        <div class="mb-2"><label class="form-label">Görünen Ad</label><input id="editName" class="form-control" type="text"></div>
        <div class="mb-2"><label class="form-label">Avatar URL</label><input id="editAvatar" class="form-control" type="text"></div>
        <div class="mb-2"><label class="form-label">Biyografi</label><textarea id="editBio" class="form-control"></textarea></div>
        <div class="mt-3 text-end"><button type="button" id="saveProfileBtn" class="btn btn-success">Kaydet</button></div>
    </form></div>
</div></div></div>

<script>
    const grid = document.getElementById('masonry');
    for(let i=1; i<=12; i++) {
        const item = document.createElement('div'); item.className = 'grid-item';
        item.innerHTML = `<img src="https://picsum.photos/seed/${i+300}/600/600">`;
        grid.appendChild(item);
    }
    document.getElementById('saveProfileBtn').addEventListener('click', () => {
        const newName = document.getElementById('editName').value;
        const newBio = document.getElementById('editBio').value;
        const newAvatar = document.getElementById('editAvatar').value;
        if(newName) document.getElementById('profileName').textContent = newName;
        if(newBio) document.getElementById('profileBio').textContent = newBio;
        if(newAvatar) document.getElementById('avatarPreview').src = newAvatar;
        bootstrap.Modal.getInstance(document.getElementById('editProfileModal')).hide();
    });
</script>
{% endblock %}