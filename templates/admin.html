<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Y√∂netici Paneli</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    padding: 20px;
    font-family: Arial, sans-serif;
    transition: background 0.3s, color 0.3s;
}

/* DARK / LIGHT */
body.dark-mode { background:#121212; color:#eee; }
body.light-mode { background:#f8f9fa; color:#111; }

.container { max-width: 1200px; margin:auto; }

.section-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:15px;
}

table {
    width:100%;
    border-radius:8px;
    overflow:hidden;
}

thead { background:#343a40; color:#fff; }

tbody tr:hover { opacity:0.85; }

.exit-btn {
    position:fixed;
    top:20px;
    left:20px;
    font-size:1.5rem;
    background:none;
    border:none;
    cursor:pointer;
}
.exit-btn:hover { color:#dc3545; }
</style>
</head>

<body id="admin-body">

<!-- √áƒ±kƒ±≈ü -->
<button class="exit-btn" onclick="window.location.href='{{ url_for('index') }}'">√ó</button>

<div class="container">
    <h1 class="mb-4">üõ†Ô∏è Y√∂netici Paneli</h1>

    <!-- USERS -->
    <div class="section-header">
        <h3>Kullanƒ±cƒ±lar</h3>
    </div>

    <table class="table table-striped table-hover align-middle">
        <thead>
            <tr>
                <th>ID</th>
                <th>Kullanƒ±cƒ± Adƒ±</th>
                <th>Email</th>
                <th>Admin</th>
                <th class="text-center">ƒ∞≈ülem</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>
                    {% if user.is_admin %}
                        <span class="badge bg-success">Admin</span>
                    {% else %}
                        <span class="badge bg-secondary">√úye</span>
                    {% endif %}
                </td>
                <td class="text-center">
                    {% if user.id != current_user.id %}
                    <a href="{{ url_for('delete_user', user_id=user.id) }}"
                       class="btn btn-danger btn-sm"
                       onclick="return confirm('Bu kullanƒ±cƒ± silinsin mi?');">
                        Sil
                    </a>
                    {% else %}
                    <span class="text-muted small">Bu sensin</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- PHOTOS -->
    <div class="section-header mt-5">
        <h3>Fotoƒüraflar</h3>
    </div>

    <table class="table table-striped table-hover align-middle">
        <thead>
            <tr>
                <th>ID</th>
                <th>Ba≈ülƒ±k</th>
                <th>Dosya</th>
                <th>Sahip</th>
                <th class="text-center">ƒ∞≈ülem</th>
            </tr>
        </thead>
        <tbody>
            {% for photo in photos %}
            <tr>
                <td>{{ photo.id }}</td>
                <td>{{ photo.title }}</td>
                <td>{{ photo.filename }}</td>
                <td>{{ photo.owner.username if photo.owner else '-' }}</td>
                <td class="text-center">
                    <a href="{{ url_for('delete_photo', photo_id=photo.id) }}"
                       class="btn btn-danger btn-sm"
                       onclick="return confirm('Fotoƒüraf silinsin mi?');">
                        Sil
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

<script>
(function(){
    let mode = localStorage.getItem("siteMode");
    document.getElementById("admin-body")
        .classList.add(mode === "light" ? "light-mode" : "dark-mode");
})();
</script>

</body>
</html>














