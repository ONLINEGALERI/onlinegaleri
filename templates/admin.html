{% extends "base.html" %}
{% block title %}YÃ¶netici Paneli{% endblock %}

{% block content %}

<button class="exit-btn-fixed" onclick="window.location.href='{{ url_for('index') }}'">
    <i class="fa-solid fa-xmark"></i>
</button>

<div class="container mt-4 admin-page">
    <h1 class="mb-4 admin-title">ğŸ› ï¸ YÃ¶netici Paneli</h1>

    <div class="section-header">
        <h3>KullanÄ±cÄ±lar</h3>
    </div>

    <div class="table-responsive">
        <table class="table table-hover admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>KullanÄ±cÄ± AdÄ±</th>
                    <th>Email</th>
                    <th>StatÃ¼</th>
                    <th class="text-center">Ä°ÅŸlem</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <td>{{ user.id }}</td>
                    <td>@{{ user.username }}</td>
                    <td>{{ user.email }}</td>
                    <td>
                        {% if user.username.upper() == 'VERZÄ°A' or user.username.upper() == 'VERZIA' %}
                            <span class="badge verzia-gold-badge">Admin</span>
                        {% else %}
                            <span class="badge status-badge">Ãœye</span>
                        {% endif %}
                    </td>
                    <td class="text-center">
                        {% if user.username.upper() != 'VERZÄ°A' and user.username.upper() != 'VERZIA' %}
                        <form method="POST" action="{{ url_for('admin_delete_user', user_id=user.id) }}" style="display:inline;">
                            <button class="btn btn-danger btn-sm action-btn verzia-gold-btn" onclick="return confirm('Bu kullanÄ±cÄ± silinsin mi?');">Sil</button>
                        </form>
                        {% else %}
                        <span class="current-user-text">Bu sensin âœ¨</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="section-header mt-5">
        <h3>FotoÄŸraflar</h3>
    </div>

    <div class="table-responsive">
        <table class="table table-hover admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>FotoÄŸraf Bilgisi</th>
                    <th>Dosya Verisi</th>
                    <th>StatÃ¼</th>
                    <th class="text-center">Ä°ÅŸlem</th>
                </tr>
            </thead>
            <tbody>
                {% for photo in photos if photos %}
                <tr>
                    <td>{{ photo.id }}</td>
                    <td>{{ photo.title or 'Verzia Moment' }}</td>
                    <td><span class="badge bg-dark text-white">Base64 Data</span></td>
                    <td><span class="badge bg-success">YayÄ±nda</span></td>
                    <td class="text-center">
                        <span class="opacity-50" style="font-size: 11px;">Admin Yetkili âœ¨</span>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5" class="text-center opacity-50 p-4">HenÃ¼z sistemde fotoÄŸraf bulunmuyor.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<style>
/* --- VERZIA DINAMIK TEMA (DARK/LIGHT) --- */
:root {
    --verzia-gold: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
}

/* Sayfa Genel Renkleri */
.admin-page { 
    color: var(--ig-text) !important; /* Base.html'deki deÄŸiÅŸkene baÄŸladÄ±m âœ¨ */
    padding-top: 60px;
    padding-bottom: 60px;
    transition: all 0.3s ease;
}

/* BaÅŸlÄ±k ve BÃ¶lÃ¼mler */
.admin-title {
    background: var(--verzia-gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 3px;
}

.section-header h3 {
    border-left: 4px solid #bf953f;
    padding-left: 15px;
    color: #bf953f !important;
}

/* Tablo TasarÄ±mÄ± */
.admin-table {
    background-color: transparent;
    border: 1px solid rgba(191, 149, 63, 0.2) !important;
    color: var(--ig-text) !important;
}

.admin-table thead th {
    background-color: rgba(191, 149, 63, 0.1);
    color: #bf953f;
    border-bottom: 2px solid #bf953f;
    text-transform: uppercase;
    font-size: 0.8rem;
}

/* Modlara GÃ¶re SatÄ±r Renkleri */
body:not(.light-mode) .admin-table tbody td { color: #fff; }
body.light-mode .admin-table tbody td { color: #333; }

.admin-table tbody tr:hover {
    background-color: rgba(191, 149, 63, 0.08) !important;
}

/* Rozetler ve Butonlar */
.verzia-gold-badge {
    background: var(--verzia-gold) !important;
    color: #000 !important;
    font-weight: bold;
}

.status-badge {
    background: rgba(128, 128, 128, 0.2);
    color: var(--ig-text);
}

.current-user-text {
    color: #aa771c;
    font-weight: bold;
}

/* Ã‡arpÄ± Butonu (Dinamik Renk) */
.exit-btn-fixed {
    position: fixed;
    top: 30px;
    right: 40px;
    font-size: 2.5rem;
    background: none;
    border: none;
    cursor: pointer;
    z-index: 10000;
    color: var(--ig-text); /* Mod deÄŸiÅŸtikÃ§e otomatik renk deÄŸiÅŸtirir âœ¨ */
    transition: 0.4s ease;
}

.exit-btn-fixed:hover {
    transform: rotate(180deg);
    color: #bf953f;
}

.verzia-gold-btn {
    border: 1px solid #bf953f !important;
    background: transparent !important;
    color: #bf953f !important;
}

.verzia-gold-btn:hover {
    background: var(--verzia-gold) !important;
    color: #000 !important;
}
</style>
{% endblock %}




















