{% extends "base.html" %}
{% block title %}Y√∂netici Paneli{% endblock %}

{% block content %}

<!-- √áƒ±kƒ±≈ü -->
<button class="exit-btn" onclick="window.location.href='{{ url_for('index') }}'">√ó</button>

<div class="container mt-4 admin-page">
    <h1 class="mb-4">üõ†Ô∏è Y√∂netici Paneli</h1>

    <!-- USERS -->
    <div class="section-header">
        <h3>Kullanƒ±cƒ±lar</h3>
    </div>

    <table class="table table-hover admin-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Kullanƒ±cƒ± Adƒ±</th>
                <th>Email</th>
                <th>Admin</th>
                <th class="text-center">ƒ∞≈ülem</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>
                    {% if user.is_admin %}
                        <span class="badge bg-success">Admin</span>
                    {% else %}
                        <span class="badge bg-secondary">√úye</span>
                    {% endif %}
                </td>
                <td class="text-center">
                    {% if user.id != current_user.id %}
                    <form method="POST" action="{{ url_for('delete_user', user_id=user.id) }}" style="display:inline;">
                        <button class="btn btn-danger btn-sm" onclick="return confirm('Bu kullanƒ±cƒ± silinsin mi?');">Sil</button>
                    </form>
                    {% else %}
                    <span class="text-muted small">Bu sensin</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- PHOTOS -->
    <div class="section-header mt-5">
        <h3>Fotoƒüraflar</h3>
    </div>

    <table class="table table-hover admin-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Ba≈ülƒ±k</th>
                <th>Dosya</th>
                <th>Sahip</th>
                <th class="text-center">ƒ∞≈ülem</th>
            </tr>
        </thead>
        <tbody>
            {% for photo in photos %}
            <tr>
                <td>{{ photo.id }}</td>
                <td>{{ photo.title }}</td>
                <td>{{ photo.filename }}</td>
                <td>{{ photo.owner.username if photo.owner else '-' }}</td>
                <td class="text-center">
                    <form method="POST" action="{{ url_for('delete_photo', photo_id=photo.id) }}" style="display:inline;">
                        <button class="btn btn-danger btn-sm" onclick="return confirm('Fotoƒüraf silinsin mi?');">Sil</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Dark/Light mod i√ßin CSS -->
<style>
/* T√ºm admin panel tablolar */
.admin-table {
    border-radius: 0.5rem;
    overflow: hidden;
    width: 100%;
}

/* Dark mode */
body:not(.light-mode) .admin-page {
    background-color: #121212;
    color: #fff;
    padding-bottom: 50px;
}
body:not(.light-mode) .admin-table {
    background-color: #1f1f1f;
    color: #000;
}
body:not(.light-mode) .admin-table thead {
    background-color: #fff;
    color: #000;
}
body:not(.light-mode) .admin-table tbody tr {
    background-color: #2a2a2a;
}
body:not(.light-mode) .admin-table tbody tr:hover {
    background-color: #333;
}
body:not(.light-mode) .btn-danger,
body:not(.light-mode) .btn-success,
body:not(.light-mode) .btn-primary {
    background-color: #fff;
    color: #000;
    border-color: #ccc;
}
body:not(.light-mode) .btn-danger:hover,
body:not(.light-mode) .btn-success:hover,
body:not(.light-mode) .btn-primary:hover {
    background-color: #ddd;
}

/* Light mode */
body.light-mode .admin-page {
    background-color: #f9f9f9;
    color: #111;
}
body.light-mode .admin-table {
    background-color: #eaeaea;
    color: #000;
}
body.light-mode .admin-table thead {
    background-color: #d4d4d4;
    color: #000;
}
body.light-mode .admin-table tbody tr {
    background-color: #fff;
}
body.light-mode .admin-table tbody tr:hover {
    background-color: #ccc;
}
body.light-mode .btn-danger,
body.light-mode .btn-success,
body.light-mode .btn-primary {
    background-color: #444;
    color: #fff;
    border-color: #333;
}
body.light-mode .btn-danger:hover,
body.light-mode .btn-success:hover,
body.light-mode .btn-primary:hover {
    background-color: #555;
}

/* Exit button */
.exit-btn {
    position: fixed;
    top: 20px;
    left: 20px;
    font-size: 1.5rem;
    background: none;
    border: none;
    cursor: pointer;
}
body:not(.light-mode) .exit-btn:hover { color: #ff5555; }
body.light-mode .exit-btn:hover { color: #aa0000; }
</style>

{% endblock %}




















