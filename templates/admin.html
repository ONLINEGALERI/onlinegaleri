{% extends "base.html" %}
{% block title %}Y√∂netici Paneli{% endblock %}

{% block content %}

<button class="exit-btn-fixed" onclick="window.location.href='{{ url_for('index') }}'">
    <i class="fa-solid fa-xmark"></i>
</button>

<div class="container admin-page" style="padding-top: 25px !important; padding-left: 60px; padding-right: 60px; max-width: 1200px; margin: 0 auto;">
    <h1 class="mb-4 admin-title" style="font-size: 2.8rem; letter-spacing: 4px;">üõ†Ô∏è Y√∂netici Paneli</h1>

    <div class="section-header">
        <h3>Kullanƒ±cƒ±lar</h3>
    </div>

    <div class="table-responsive">
        <table class="table admin-table-custom">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Kullanƒ±cƒ± Adƒ±</th>
                    <th>Email</th>
                    <th>Stat√º</th>
                    <th class="text-center">ƒ∞≈ülem</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <td>{{ user.id }}</td>
                    <td class="user-name-cell">@{{ user.username }}</td>
                    <td>{{ user.email }}</td>
                    <td>
                        {% if user.username.upper() == 'VERZƒ∞A' or user.username.upper() == 'VERZIA' %}
                            <span class="badge verzia-gold-badge">Admin</span>
                        {% else %}
                            <span class="badge status-badge">√úye</span>
                        {% endif %}
                    </td>
                    <td class="text-center">
                        {% if user.username.upper() != 'VERZƒ∞A' and user.username.upper() != 'VERZIA' %}
                        <form method="POST" action="{{ url_for('admin_delete_user', user_id=user.id) }}" style="display:inline;">
                            <button class="btn btn-danger btn-sm action-btn verzia-gold-btn" onclick="return confirm('Bu kullanƒ±cƒ± silinsin mi?');">Sil</button>
                        </form>
                        {% else %}
                        <span class="current-user-text">Bu sensin ‚ú®</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="section-header mt-5">
        <h3>Fotoƒüraflar</h3>
    </div>

    <div class="table-responsive">
        <table class="table admin-table-custom">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Fotoƒüraf Bilgisi</th>
                    <th>Dosya Verisi</th>
                    <th>Stat√º</th>
                    <th class="text-center">ƒ∞≈ülem</th>
                </tr>
            </thead>
            <tbody>
                {% for photo in photos if photos %}
                <tr>
                    <td>{{ photo.id }}</td>
                    <td>{{ photo.title or 'Verzia Moment' }}</td>
                    <td><span class="badge bg-dark text-white">Base64 Data</span></td>
                    <td><span class="badge bg-success">Yayƒ±nda</span></td>
                    <td class="text-center">
                        <span class="admin-yetki-text">Admin Yetkili ‚ú®</span>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5" class="text-center no-data-text">Hen√ºz sistemde fotoƒüraf bulunmuyor.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<style>
/* --- VERZIA DINAMIK TEMA (TEXT G√ñR√úN√úRL√úK D√úZENLEMESƒ∞) --- */
:root {
    --verzia-gold: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
}

.admin-page { 
    color: var(--ig-text) !important;
    padding-bottom: 60px;
}

.admin-table-custom {
    background-color: transparent !important;
    color: var(--ig-text) !important;
    border: 1px solid rgba(191, 149, 63, 0.2) !important;
    width: 100%;
}

.admin-table-custom td, .admin-table-custom th {
    background-color: transparent !important;
    color: inherit !important;
    border-color: rgba(191, 149, 63, 0.1) !important;
    padding: 15px;
}

.admin-table-custom thead th {
    color: #bf953f !important;
    border-bottom: 2px solid #bf953f !important;
}

body:not(.light-mode) .admin-table-custom { color: #ffffff !important; }
body.light-mode .admin-table-custom { color: #000000 !important; }

.admin-title {
    background: var(--verzia-gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 900;
}

.section-header h3 {
    border-left: 4px solid #bf953f;
    padding-left: 15px;
    color: #bf953f !important;
}

.verzia-gold-badge {
    background: var(--verzia-gold) !important;
    color: #000 !important;
    font-weight: bold;
}

.current-user-text { color: #bf953f; font-weight: bold; }
.admin-yetki-text, .no-data-text { color: var(--ig-text); opacity: 0.6; }

.exit-btn-fixed {
    position: fixed; top: 25px; right: 40px; font-size: 2.8rem;
    background: none; border: none; cursor: pointer; z-index: 10000;
    color: var(--ig-text); transition: 0.4s ease;
}
.exit-btn-fixed:hover { transform: rotate(180deg); color: #bf953f; }

.verzia-gold-btn {
    border: 1px solid #bf953f !important;
    background: transparent !important;
    color: #bf953f !important;
    border-radius: 20px;
    padding: 5px 15px;
}
</style>
{% endblock %}




















