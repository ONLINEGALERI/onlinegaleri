{% extends "base.html" %}
{% block title %}Y√∂netici Paneli{% endblock %}

{% block content %}

<button class="exit-btn" onclick="window.location.href='{{ url_for('index') }}'">√ó</button>

<div class="container mt-4 admin-page">
    <h1 class="mb-4 admin-title">üõ†Ô∏è Y√∂netici Paneli</h1>

    <div class="section-header">
        <h3>Kullanƒ±cƒ±lar</h3>
    </div>

    <div class="table-responsive">
        <table class="table table-hover admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Kullanƒ±cƒ± Adƒ±</th>
                    <th>Email</th>
                    <th>Stat√º</th>
                    <th class="text-center">ƒ∞≈ülem</th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <td>{{ user.id }}</td>
                    <td>{{ user.username }}</td>
                    <td>{{ user.email }}</td>
                    <td>
                        {% if user.is_admin or user.username.lower() == 'bec' %}
                            <span class="badge verzia-gold-badge">Admin</span>
                        {% else %}
                            <span class="badge bg-secondary">√úye</span>
                        {% endif %}
                    </td>
                    <td class="text-center">
                        {% if user.id != current_user.id %}
                        <form method="POST" action="{{ url_for('delete_user', user_id=user.id) }}" style="display:inline;">
                            <button class="btn btn-danger btn-sm action-btn verzia-gold-btn" onclick="return confirm('Bu kullanƒ±cƒ± silinsin mi?');">Sil</button>
                        </form>
                        {% else %}
                        <span class="current-user-text">Bu sensin ‚ú®</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="section-header mt-5">
        <h3>Fotoƒüraflar</h3>
    </div>

    <div class="table-responsive">
        <table class="table table-hover admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Ba≈ülƒ±k</th>
                    <th>Dosya</th>
                    <th>Sahip</th>
                    <th class="text-center">ƒ∞≈ülem</th>
                </tr>
            </thead>
            <tbody>
                {% for photo in photos %}
                <tr>
                    <td>{{ photo.id }}</td>
                    <td>{{ photo.title }}</td>
                    <td>{{ photo.filename }}</td>
                    <td>{{ photo.owner.username if photo.owner else '-' }}</td>
                    <td class="text-center">
                        <form method="POST" action="{{ url_for('delete_photo', photo_id=photo.id) }}" style="display:inline;">
                            <button class="btn btn-danger btn-sm action-btn verzia-gold-btn" onclick="return confirm('Fotoƒüraf silinsin mi?');">Sil</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<style>
/* --- VERZIA GOLD TEMASI --- */
:root {
    --verzia-gold: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
    --gold-shadow: 0 0 15px rgba(191, 149, 63, 0.3);
}

body {
    background-color: #000000 !important;
    transition: background-color 0.3s ease;
}
.admin-page { color: #ffffff !important; }
body.light-mode { background-color: #ffffff !important; }
body.light-mode .admin-page { color: #000000 !important; }

/* Mobilde tablolarƒ±n saƒüa sola kaydƒ±rƒ±labilmesi i√ßin (Ekran ta≈ümasƒ±nƒ± √∂nler) */
.table-responsive {
    border-radius: 12px;
    border: none;
    margin-bottom: 20px;
}

.admin-title {
    background: var(--verzia-gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 900;
    text-transform: uppercase;
    letter-spacing: 3px;
    filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
}

.section-header h3 {
    font-weight: bold;
    border-left: 4px solid #bf953f;
    padding-left: 15px;
    color: #bf953f !important;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.verzia-gold-badge {
    background: var(--verzia-gold) !important;
    color: #000 !important;
    font-weight: bold;
    border: none;
    box-shadow: var(--gold-shadow);
}

.current-user-text {
    color: #fcf6ba;
    font-weight: bold;
    text-shadow: 0 0 5px rgba(252, 246, 186, 0.5);
}

.admin-table {
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 30px;
    border: 1px solid rgba(191, 149, 63, 0.2) !important;
    background-color: transparent;
}

body:not(.light-mode) .admin-table thead th {
    background-color: #111;
    color: #fcf6ba;
    border-bottom: 2px solid #bf953f;
}

.admin-table tbody tr:hover {
    background-color: rgba(191, 149, 63, 0.05) !important;
    transition: 0.3s;
}

.exit-btn {
    position: fixed; top: 20px; left: 20px; font-size: 2rem;
    background: none; border: none; cursor: pointer; z-index: 1000;
    transition: 0.3s;
}
body:not(.light-mode) .exit-btn { color: #fff; }
body.light-mode .exit-btn { color: #000; }
.exit-btn:hover { 
    transform: rotate(90deg);
    color: #bf953f !important; 
}

.verzia-gold-btn {
    border: 1px solid #bf953f !important;
    background: transparent !important;
    color: #bf953f !important;
    font-weight: bold;
}

.verzia-gold-btn:hover {
    background: var(--verzia-gold) !important;
    color: #000 !important;
    border-color: transparent !important;
}

/* MOBƒ∞L ƒ∞NCE AYAR */
@media (max-width: 768px) {
    .admin-title { font-size: 1.5rem; }
    .exit-btn { top: 10px; left: 10px; font-size: 1.5rem; }
}
</style>

{% endblock %}




















