{% extends "base.html" %}
{% block title %}Y√∂netici Paneli{% endblock %}

{% block content %}

<button class="exit-btn" onclick="window.location.href='{{ url_for('index') }}'">√ó</button>

<div class="container mt-4 admin-page">
    <h1 class="mb-4">üõ†Ô∏è Y√∂netici Paneli</h1>

    <div class="section-header">
        <h3>Kullanƒ±cƒ±lar</h3>
    </div>

    <table class="table table-hover admin-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Kullanƒ±cƒ± Adƒ±</th>
                <th>Email</th>
                <th>Admin</th>
                <th class="text-center">ƒ∞≈ülem</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{ user.id }}</td>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>
                    {% if user.is_admin %}
                        <span class="badge bg-success">Admin</span>
                    {% else %}
                        <span class="badge bg-secondary">√úye</span>
                    {% endif %}
                </td>
                <td class="text-center">
                    {% if user.id != current_user.id %}
                    <form method="POST" action="{{ url_for('delete_user', user_id=user.id) }}" style="display:inline;">
                        <button class="btn btn-danger btn-sm action-btn" onclick="return confirm('Bu kullanƒ±cƒ± silinsin mi?');">Sil</button>
                    </form>
                    {% else %}
                    <span class="text-muted small">Bu sensin</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="section-header mt-5">
        <h3>Fotoƒüraflar</h3>
    </div>

    <table class="table table-hover admin-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Ba≈ülƒ±k</th>
                <th>Dosya</th>
                <th>Sahip</th>
                <th class="text-center">ƒ∞≈ülem</th>
            </tr>
        </thead>
        <tbody>
            {% for photo in photos %}
            <tr>
                <td>{{ photo.id }}</td>
                <td>{{ photo.title }}</td>
                <td>{{ photo.filename }}</td>
                <td>{{ photo.owner.username if photo.owner else '-' }}</td>
                <td class="text-center">
                    <form method="POST" action="{{ url_for('delete_photo', photo_id=photo.id) }}" style="display:inline;">
                        <button class="btn btn-danger btn-sm action-btn" onclick="return confirm('Fotoƒüraf silinsin mi?');">Sil</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<style>
/* --- MODLARA G√ñRE ARKA PLAN ZORLAMASI --- */

/* 1. DARK MODE (VARSAYILAN) */
body {
    background-color: #000000 !important;
    transition: background-color 0.3s ease;
}
.admin-page {
    color: #ffffff !important;
}

/* 2. LIGHT MODE (AKTƒ∞FKEN) */
body.light-mode {
    background-color: #ffffff !important; /* Arka planƒ± beyaza zorla */
}
body.light-mode .admin-page {
    color: #000000 !important; /* Yazƒ±larƒ± siyaha zorla */
}

/* --- TABLO D√úZENLEMELERƒ∞ --- */
.admin-table {
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 30px;
}

/* Dark Mode Tablo */
body:not(.light-mode) .admin-table {
    background-color: #1a1a1a;
    color: #fff;
    border: 1px solid #333;
}
body:not(.light-mode) .admin-table thead th {
    background-color: #333;
    color: #fff;
}
body:not(.light-mode) .admin-table tbody tr {
    border-bottom: 1px solid #222;
}

/* Light Mode Tablo */
body.light-mode .admin-table {
    background-color: #f8f9fa;
    color: #000;
    border: 1px solid #dee2e6;
}
body.light-mode .admin-table thead th {
    background-color: #e9ecef;
    color: #000;
}
body.light-mode .admin-table tbody tr {
    background-color: #fff;
    border-bottom: 1px solid #dee2e6;
}

/* --- Dƒ∞ƒûER √ñƒûELER --- */
.exit-btn {
    position: fixed; top: 20px; left: 20px; font-size: 2rem;
    background: none; border: none; cursor: pointer; z-index: 1000;
}
body:not(.light-mode) .exit-btn { color: #fff; }
body.light-mode .exit-btn { color: #000; }
.exit-btn:hover { color: #ff4444 !important; }

.section-header h3 { font-weight: bold; }
</style>

{% endblock %}




















