{% extends "base.html" %}
{% block content %}
<link href="https://fonts.googleapis.com/css2?family=Pinyon+Script&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<div class="hero">
    <div class="signature-container" style="pointer-events: none; text-align: center; padding-top: 20vh;">
        <h1 style="font-family: 'Pinyon Script'; font-size: 120px; background: linear-gradient(135deg, #bf953f, #fcf6ba, #aa771c); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Verzia</h1>
    </div>
    <div style="display: flex; justify-content: center; gap: 20px; margin-top: 50px;">
        <button class="gold-btn" onclick="openModal('login-overlay')">Giriş Yap</button>
        <button class="gold-btn" onclick="openModal('register-overlay')">Kayıt Ol</button>
    </div>
</div>

<div class="overlay" id="login-overlay" style="display:none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:10000; justify-content:center; align-items:center;">
    <div style="background:#000; padding:40px; border:1px solid #d4af37; text-align:center; width:300px;">
        <h2 style="color:#d4af37;">GİRİŞ YAP</h2>
        <div id="login-error" style="color:red; display:none; margin-bottom:10px;"></div>
        <form id="ajax-login-form">
            <input type="text" name="username" placeholder="Kullanıcı Adı" style="width:100%; margin-bottom:10px; padding:10px; background:#111; border:1px solid #333; color:#fff;" required>
            <input type="password" name="password" placeholder="Şifre" style="width:100%; margin-bottom:10px; padding:10px; background:#111; border:1px solid #333; color:#fff;" required>
            <button type="submit" style="width:100%; padding:10px; background:#d4af37; border:none; color:#000; font-weight:bold; cursor:pointer;">GİRİŞ</button>
        </form>
        <button onclick="closeModal()" style="background:none; border:none; color:#d4af37; margin-top:10px; cursor:pointer;">Kapat</button>
    </div>
</div>

<style>
    .hero { height: 100vh; background: #000; }
    .gold-btn { background: none; border: 1px solid #d4af37; color: #d4af37; padding: 10px 30px; border-radius: 20px; cursor: pointer; transition: 0.3s; }
    .gold-btn:hover { background: #d4af37; color: #000; }
</style>

<script>
    function openModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModal() { document.querySelectorAll('.overlay').forEach(o => o.style.display = 'none'); }
    
    document.getElementById('ajax-login-form').addEventListener('submit', function(e) {
        e.preventDefault();
        fetch('/login', {
            method: 'POST',
            body: new FormData(this),
            headers: {'X-Requested-With': 'XMLHttpRequest'}
        })
        .then(r => r.json())
        .then(data => {
            if(data.status === 'success') { window.location.replace(data.redirect); }
            else { document.getElementById('login-error').innerText = data.message; document.getElementById('login-error').style.display = 'block'; }
        });
    });
</script>
{% endblock %}






























